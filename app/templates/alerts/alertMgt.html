{% extends "appbuilder/base.html" %}
{% import 'appbuilder/general/lib.html' as lib %}
{% block head_css %}
    {{ super() }}
    <link rel="stylesheet" href="{{url_for('static',filename='assets/css/mask.css')}}"></link>
    <link rel="stylesheet" href="{{url_for('static',filename='assets/node_modules/bootstrap-table/dist/bootstrap-table.min.css')}}"></link>
    <link rel="stylesheet" href="{{url_for('static',filename='assets/node_modules/bootstrap-toggle/css/bootstrap-toggle.min.css')}}"></link>
    <link rel="stylesheet" href="{{url_for('static',filename='assets/node_modules/x-editable/dist/bootstrap3-editable/css/bootstrap-editable.css')}}"></link>
    <style type="text/css">
      label.error{
        color:red;
        margin-left: 10px;
      }
    </style>
{% endblock %}
{% block content %}

{{ lib.panel_begin('Alert Management') }}

<div class="panel panel-default">
  <div id='alertMgt' data-ismanager={{is_analysis_manager}}></div>
  <div class="panel-heading" style="background-color: #dff0d8;">Alert Distribution</div>
  <div class="panel-body">
    <div class="row">
        <div class="col-md-6" id="statusChart" style="height:400px">
        </div>
        <div class="col-md-6" id="typeChart" style="height:400px">
        </div>
    </div>
  </div>
  <div id="managerBar" class="panel-body">
    <div class="row">
        <div id="barChart" style="height:400px"></div>
    </div>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading" style="background-color: #dff0d8;">Alert Table</div>
  <div class="panel-body">
    <div class="row">
        <table id="alertTable" data-page-list="[10, 25, 50, 100, ALL]"></table>
    </div>
  </div>
</div>

<div class="modal fade" id="alertProcessModal" tabindex="-1" role="dialog" data-pid=''>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add Note</h4>
      </div>
      <form id="alertNoteForm">
        <div class="modal-body">
            <div class="form-group">
              <label for="commentTextArea">Comment</label>
              <textarea class="form-control" rows="4" id="commentTextArea" name="commentTextArea" placeholder="please add your comments"></textarea>
            </div>
            <div class="form-group">
              <label for="processCtl">Process</label>
              <input class="form-control" type="checkbox" id="processCtl" name="processCtl" disabled data-toggle="toggle" data-on="True" data-off="False">
            </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary" id="noteSaveBtn">Submit</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </form>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="mask"></div>

{% endblock %}
{% block tail_js %}
	{{super()}}
    <script type="text/javascript">
      $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
    </script>
    <script src="{{url_for('static',filename='assets/node_modules/jquery-validation/dist/jquery.validate.js')}}"></script>
    <script src="{{url_for('static',filename='assets/node_modules/echarts/dist/echarts.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/node_modules/x-editable/dist/bootstrap3-editable/js/bootstrap-editable.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/node_modules/bootstrap-table/dist/bootstrap-table.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/node_modules/bootstrap-table/dist/extensions/editable/bootstrap-table-editable.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/node_modules/bootstrap-toggle/js/bootstrap-toggle.min.js')}}"></script>
    <script src="{{url_for('static',filename='assets/node_modules/jquery-validation/dist/jquery.validate.js')}}"></script>
    <script src="{{url_for('static',filename='assets/javascript/alerts/alertMgt.js')}}"></script>    
{% endblock %}