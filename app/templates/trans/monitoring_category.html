{% extends "appbuilder/base.html" %}
{% import 'appbuilder/general/lib.html' as lib %}
{% block head_css %}
    {{ super() }}
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
    <link rel="stylesheet" href="{{url_for('static',filename='assets/3rd_party/mdb/css/mdb.min.css')}}"></link>
    <link rel="stylesheet" href="{{url_for('static',filename='assets/css/conflict.css')}}"></link>
{% endblock %}
{% block content %}

<div class="panel panel-primary">
  <div class="panel-heading">
      <h3 class="panel-title">Transaction Monitoring</h3>
  </div>
  <div class="panel-body">

{% for key,vals in rules.items() %}

      {%if loop.index % 3 == 0 %}
        <div class="row">

          <div class="col-sm-6 col-md-4">
            
            <!-- Card -->
            <div class="card card-cascade wider">

              <!-- Card image -->
              <div class="view view-cascade gradient-card-header peach-gradient">

                <!-- Title -->
                <h2 class="card-header-title mb-3">{{key|e}}</h2>
                <!-- Text -->

              </div>

              <!-- Card content -->
              <div class="card-body card-body-cascade text-center">
                {% for rule in vals %}
                <!-- Link -->
                <a href="#!" class="d-flex flex-row-reverse p-2">
                  <h5 class="waves-effect waves-light">{{rule.rule_description_short|e}}<i class="fas fa-angle-double-right ml-2"></i></h5>
                </a>
                {% endfor %}

              </div>
              <!-- Card content -->

            </div>
            <!-- Card -->

          </div>
          
        </div>
      {% else %}
         <div class="col-sm-6 col-md-4">
            
            <!-- Card -->
            <div class="card card-cascade wider">

              <!-- Card image -->
              <div class="view view-cascade gradient-card-header peach-gradient">

                <!-- Title -->
                <h2 class="card-header-title mb-3">{{key|e}}</h2>
                <!-- Text -->

              </div>

              <!-- Card content -->
              <div class="card-body card-body-cascade text-center">

                {% for rule in vals %}
                <!-- Link -->
                <a href="#!" class="d-flex flex-row-reverse p-2">
                  <h5 class="waves-effect waves-light">{{rule.rule_description_short|e}}<i class="fas fa-angle-double-right ml-2"></i></h5>
                </a>
                {% endfor %}

              </div>
              <!-- Card content -->

            </div>
            <!-- Card -->

          </div>
        {% endif%}

    {% endfor%}

  </div>
</div>


{% endblock %}
{% block tail_js %}
	{{super()}}
    <script type="text/javascript">
      $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
    </script>
    <script src="{{url_for('static',filename='assets/3rd_party/mdb/js/mdb.min.js')}}"></script>
{% endblock %}